<!-- Load custom JS -->
{{ $mathRender := resources.Get "js/math-render.js" | resources.Minify }}
<script src="{{ $mathRender.RelPermalink }}"></script>

<!-- Additional script to fix any rendering issues -->
<script>
  // Force re-render of KaTeX after page load
  window.addEventListener('load', function() {
    if (typeof renderMathInElement === 'function') {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ],
        throwOnError: false
      });
    }
  });
</script>
